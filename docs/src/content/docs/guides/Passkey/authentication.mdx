---
title: Authentication Guide
sidebar:
  order: 11
  label: Authentication
  badge:
    text: "WIP"
    variant: caution
tags:
  - Passkey
  - Registration
  - Android
  - Browser
  - Server
---
import { Tabs, TabItem, Steps, Aside} from '@astrojs/starlight/components';

Authenticating with a previously created [Passkey](../../concepts#passkeys) is a three-step process.

<Steps>
  1. Fetch the **Request Options** from the [Server](../../../server/introduction).
  2. Retrieve the [Passkey](../../concepts#passkeys) using the **Request Options**.
  3. Post the **Assertion Response** from an authenticator to the [Server](../../../server/introduction).
</Steps>

## ‚öôÔ∏è Options

[PublicKeyCredentialRequestOptions](https://www.w3.org/TR/webauthn-2/#dictionary-assertion-options) are used
to retrieve existing Passkey and are generated by the service.
The URI for this request is [/assertion/request/:credId](../../../server/api/operations/assertioncontroller_request)
using the `POST` method.

<Tabs>
  <TabItem label="cURL">
    ```bash
    export CRED_ID="AWwK7bcWvbQ4plHok9mOIzuMdDKmLTKog2mgqhe2X48C40ISsvt7xK9CJmjjWbWF7EnNVGxDPb51WHGfN1ac1_w"
    curl -X POST \
      --header "Content-Type: application/json" \
      https://my-liquid-auth-service.com/attestation/request/$CRED_ID
    ```
  </TabItem>
  <TabItem label="Browser">
    ```typescript
    //app.js
    // TODO
    ```
    See the [Browser](../../../clients/browser/registration) registration guide for more details.
  </TabItem>
  <TabItem label="Android">
    ```kotlin
    //app.kt
    import foundation.algorand.auth.fido2.*
    // TODO
    ```
    See the [Android](../../../clients/android/registration) registration guide for more details.
  </TabItem>
</Tabs>

## üéâ Retrieving

Getting the existing Passkey from an authenticator can vary depending on the platform.
Most platforms will accept the **Request Options**
and return an [AuthenticatorAssertionResponse](https://developer.mozilla.org/en-US/docs/Web/API/AuthenticatorAssertionResponse).


<Tabs>
  <TabItem label="Browser">
    ```typescript
    //app.ts
    const response: AuthenticatorAssertionResponse = await navigator.credentials.get({
      publicKey: options
    })
    ```
    See the [Browser](../../../clients/browser/authentication) authentication guide for more details.
  </TabItem>
  <TabItem label="Android">
    ```kotlin
    //app.kt
    // Retrieve the PublicKeyCredential from the
    // FIDO2Client or CredentialManager
    val credential = PublicKeyCredential()
    ```
    See the [Android](../../../clients/android/authentication) authentication guide for more details.
  </TabItem>
</Tabs>

## üöö Response

Registering a new Passkey with the service.
Prove the authenticity of the Passkey by sending the **Attestation Response** to the service.
The URI for this request is [/assertion/response](../../../server/api/operations/assertioncontroller_response)
using the `POST` method.
<Tabs>
  <TabItem label="cURL">
    ```bash
    # TODO
    curl -X POST \
      --header "Content-Type: application/json" \
      --data '{"clientDataJSON": "<base64>", "extension"}' \
      https://my-liquid-auth-service.com/attestation/response
    ```
  </TabItem>
  <TabItem label="Browser">
    ```typescript
    //app.ts
    // TODO
    ```
    See the [Browser](../../../clients/browser/authentication) authentication guide for more details.
  </TabItem>
  <TabItem label="Android">
    ```kotlin
    //app.kt
    val response = attestationApi.postAssertionResponse(
      origin, // Origin Server
      "User-Agent-String", // Required for checking the authenticator fingerprint
      credential // PublicKeyCredential
      liquidExtension // Liquid Extension
    )
    ```
    See the [Android](../../../clients/android/authentication) authentication guide for more details.
  </TabItem>
</Tabs>

